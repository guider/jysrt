/**
 * checkout file exist
 */
import os from 'os';
import * as path from 'path';
import chalk from 'chalk';
import * as copydir from 'copy-dir';
import * as fs from 'fs-extra';
import { resourcesEnum } from '../constants/resources';
const log = console.log;
export const checkSrtPath = (srtPath) => {
    if (!fs.existsSync(srtPath)) {
        log(chalk.red("the srt file doesn't exist at that path"));
        return false;
    }
    return true;
};
export const checkRate = (rate) => {
    const keys = Object.keys(resourcesEnum);
    if (!keys.includes(rate)) {
        log(chalk.red("the input rate doesn't match, example: 23.98,24,25,29.87,30,50,59.94,60"));
        return false;
    }
    return true;
};
export const formateRateKey = (rate) => {
    if (rate) {
        return 'p' + (parseFloat(rate) * 100).toString();
    }
    else {
        return resourcesEnum.p3000;
    }
};
export const copyPlugin = () => {
    const titlesPath = `${os.homedir()}/Movies/Motion Templates.localized/Titles.localized`;
    const pluginPath = path.resolve(__dirname, '../../../plugin/adaptive-background');
    if (!fs.existsSync(titlesPath)) {
        /* cSpell:disable */
        log(chalk.red('hey, your FCPX Motion is not a default path, please copy by yourself'));
        /* cSpell:enable */
    }
    copydir.sync(pluginPath, titlesPath + '/adaptive-background', {
        utimes: true,
        mode: true,
        cover: true,
    }, (error) => {
        if (error)
            log(chalk.red('hey, somethings wrong,please copy plugin by yourself'));
    });
    log(chalk.greenBright('copy custom plugin done!'));
    return null;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9oZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUM7QUFDcEIsT0FBTyxLQUFLLElBQUksTUFBTSxNQUFNLENBQUM7QUFFN0IsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sS0FBSyxPQUFPLE1BQU0sVUFBVSxDQUFDO0FBQ3BDLE9BQU8sS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRS9CLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUV2RCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBQ3hCLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBVyxFQUFFO0lBQ3ZELElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQzNCLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLHlDQUF5QyxDQUFDLENBQUMsQ0FBQztRQUMxRCxPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxJQUFZLEVBQVcsRUFBRTtJQUNqRCxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3hCLEdBQUcsQ0FDRCxLQUFLLENBQUMsR0FBRyxDQUNQLHlFQUF5RSxDQUMxRSxDQUNGLENBQUM7UUFDRixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUNyRCxJQUFJLElBQUksRUFBRTtRQUNSLE9BQU8sR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBQ2xEO1NBQU07UUFDTCxPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUM7S0FDNUI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsR0FBRyxFQUFFO0lBQzdCLE1BQU0sVUFBVSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxxREFBcUQsQ0FBQztJQUN4RixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUM3QixTQUFTLEVBQ1QscUNBQXFDLENBQ3RDLENBQUM7SUFDRixJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRTtRQUM5QixvQkFBb0I7UUFDcEIsR0FBRyxDQUNELEtBQUssQ0FBQyxHQUFHLENBQ1Asc0VBQXNFLENBQ3ZFLENBQ0YsQ0FBQztRQUNGLG1CQUFtQjtLQUNwQjtJQUNELE9BQU8sQ0FBQyxJQUFJLENBQ1YsVUFBVSxFQUNWLFVBQVUsR0FBRyxzQkFBc0IsRUFDbkM7UUFDRSxNQUFNLEVBQUUsSUFBSTtRQUNaLElBQUksRUFBRSxJQUFJO1FBQ1YsS0FBSyxFQUFFLElBQUk7S0FDWixFQUNELENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDUixJQUFJLEtBQUs7WUFDUCxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxzREFBc0QsQ0FBQyxDQUFDLENBQUM7SUFDM0UsQ0FBQyxDQUNGLENBQUM7SUFDRixHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUM7SUFDbkQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUMifQ==